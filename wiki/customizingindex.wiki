=Customizing Index Page=

With Grappelli, you have the possiblity to change the admin index page. Instead of listing apps acccording to INSTALLED_APPS, you´re able to group apps and list them in the most meaningful way. Moreover, you can display subsections of your admin index page with either using groups or collections.

Let´s say you´re using Djangos built-in Authentication and you´re extending the User-Model. You´re using django-registration as well. Now, we´re going to group all these apps:
{{{
from grappelli.sites import GrappelliSite

from django.contrib.auth.models import User, Group
from django.contrib.auth.admin import GroupAdmin, UserAdmin

from www.user.models import UserProfile, UserExtendedProfile
from www.user.admin import UserExtendedProfileOptions, UserProfileOptions

from www.registration.models import RegistrationProfile
from www.registration.admin import RegistrationProfileOptions

user_site = GrappelliSite()
user_site.register(UserExtendedProfile, UserExtendedProfileOptions)
user_site.register(UserProfile, UserProfileOptions)
user_site.register(Group, GroupAdmin)
user_site.register(User, UserAdmin)

user_site.groups = {
    0: {
        'title': 'User Management Administration', # optional
        'name': 'User Management',
        'apps': ['auth', 'user'],
        'template': 'custom/index_group_usermanagement.html', # optional
        'classes': ['collapse-open'], # optional
        'show_apps': True, # optional
    },
    1: {
        'name': 'Registration',
        'apps': ['registration']
    }
}

user_site.collections = {
    0: {
        'title': 'User Admin',
        'groups': [0,1]
    },
}
}}}

Of course, you still have to setup the urls for this admin-site:
{{{
from admin import user_site

urlpatterns = patterns('',
    ...
    (r'^user_admin/', include(user_site.urls)),
}}}

When using admin.autodiscover() you can define a !GrappelliSite like this:
{{{
from django.contrib import admin
from grappelli.sites import GrappelliSite
admin.site = GrappelliSite()
admin.autodiscover()

admin.site.groups = {
    0: {
        'title': 'User Management Administration', # optional
        'name': 'User Management',
        'apps': ['auth', 'user'],
        'template': 'custom/index_group_usermanagement.html', # optional
        'classes': ['collapse-open'], # optional
        'show_apps': True, # optional
    },
    1: {
        'name': 'Registration',
        'apps': ['registration']
    }
}


admin.site.collections = {
    0: {
        'title': 'User Admin',
        'groups': [0,1]
    },
}
}}}

Please Note that you can use !GrappelliSite without defining Groups. The apps registered with this site will be listed in the usual way. When you define Groups and you also have apps which are not part of any group, these apps will be shown at the bottom of the page.

The admin index-page then looks something like this (note that the screenshot below is a more complex example ...):

[http://vonautomatisch.at/media/uploads/grappelli/group.jpg]

==Changing the order of Models within your Apps==

With the Django Admin-Interface, the Models within Apps are ordered by Name - which is not necessarily the most logical order. To reorder the Models, you can use an attribute order within !ModelAdmin.

{{{
class NavigationOptions(admin.ModelAdmin):
    
    # List Options
    list_display = ('order', 'title',)
    ...
    
    # Grappelli Options
    order = 0

class BookmarkOptions(admin.ModelAdmin):
    
    # List Options
    list_display = ('user',)
    ...
    
    # Grappelli Options
    order = 1

}}}
Now, the Model "Navigation" will be listed as first with "Bookmarks" below.

==Renaming Apps==

It´s currently not possible to rename apps with !GrappelliSite, because the app-name is used within the breadcrumbs (and changing the breadcrumbs is not possible with subclassing !AdminSite).